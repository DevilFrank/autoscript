链接：https://www.suggestions2you.com/search?q={kw}&gd=AP1008258&r=samsung
落地页：https://www.suggestions2you.com/

二次搜索
dmFyIGtleVdvcmQgPSB7IHNrIH0KdmFyIHR5cGUgPSAnJHtzZWFyY2hCdXR0b259JwoKdmFyIGlucHV0VGFnTmFtZSA9IGBpbnB1dCNzZWFyY2gtZm9ybV9faW5wdXRgCnZhciBidXR0b25UYWdOYW1lID0gYGJ1dHRvbi5zZWFyY2gtZm9ybV9fYnV0dG9uYApmdW5jdGlvbiBqdWRnZURvbSh0YWdOYW1lKSB7CglsZXQgdGFnQXJyID0gW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFnTmFtZSldLmZpbHRlcihpdGVtID0+IHsKCQlpZiAoaXRlbSAhPSBudWxsKSByZXR1cm4gaXRlbQoJfSkKCWxldCByZXMgPSB0YWdBcnIubGVuZ3RoID4gMCA/IHRhZ0FyclswXSA6IG51bGwKCXJldHVybiByZXMKfQoKZnVuY3Rpb24gZ2V0RG9tUG9zKGRvbSkgewoJaWYgKCghZG9tLm9mZnNldFdpZHRoIHx8ICFkb20ub2Zmc2V0SGVpZ2h0KSAmJiBkb20ucGFyZW50Tm9kZSkgewoJCWRvbSA9IGRvbS5wYXJlbnROb2RlCgkJcmV0dXJuIGdldERvbVBvcyhkb20pCgl9CglpZiAoZG9tID09IGRvY3VtZW50KSB7CgkJcmV0dXJuIHsgeDogMCwgeTogMCB9Cgl9Cgl2YXIgYm91bmRSZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCgl2YXIgeCA9IGJvdW5kUmVjdC5sZWZ0ICsgZG9tLm9mZnNldFdpZHRoIC8gMTAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoZG9tLm9mZnNldFdpZHRoIC0gZG9tLm9mZnNldFdpZHRoIC8gNSkpCgl2YXIgeSA9IGJvdW5kUmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWSArIGRvbS5vZmZzZXRIZWlnaHQgLyAyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChkb20ub2Zmc2V0SGVpZ2h0IC0gZG9tLm9mZnNldEhlaWdodCAvIDEwKSkKCXJldHVybiB7IHgsIHkgfQp9CgpmdW5jdGlvbiBpbnB1dFN0cmluZyh0YXJnZXQsIHN0ciwgb3B0aW9ucyA9IHt9KSB7CgkvLyDphY3nva7lkIjlubYKCWNvbnN0IGNvbmZpZyA9IHsKCQl1c2VDb21wb3NpdGlvbjogdHJ1ZSwgLy8g5ZCv55So6L6T5YWl5rOV5ZCI5oiQCgkJZGVsYXk6IDIwLCAvLyDkuovku7bpl7Tlu7bov58KCQkuLi5vcHRpb25zLAoJfQoKCS8vIOi+k+WFpeagoemqjOWinuW8ugoJaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8IHN0ci5sZW5ndGggPT09IDApIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQ6IG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZycpCgl9CgoJLy8g5aKe5by65YWD57Sg5qOA5rWLCglpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgfHwgdHlwZW9mIHRhcmdldC5kaXNwYXRjaEV2ZW50ICE9PSAnZnVuY3Rpb24nKSB7CgkJdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhcmdldCBlbGVtZW50JykKCX0KCgkvLyDlronlhajov4fmu6QgKOmihOmYslhTUykKCWNvbnN0IGZvcmJpZGRlbkNoYXJzID0gL1tcdTIwMjhcdTIwMjlcdTAwMDAtXHUwMDFGXS8KCWlmIChmb3JiaWRkZW5DaGFycy50ZXN0KHN0cikpIHsKCQl0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5zIGZvcmJpZGRlbiBjb250cm9sIGNoYXJhY3RlcnMnKQoJfQoKCS8vIOi+k+WFpeazleWQiOaIkOa1geeoiwoJY29uc3Qgc3RhcnRDb21wb3NpdGlvbiA9IGFzeW5jICgpID0+IHsKCQlpZiAoIWNvbmZpZy51c2VDb21wb3NpdGlvbikgcmV0dXJuCgoJCXRhcmdldC5kaXNwYXRjaEV2ZW50KAoJCQluZXcgQ29tcG9zaXRpb25FdmVudCgnY29tcG9zaXRpb25zdGFydCcsIHsKCQkJCWRhdGE6IHN0ciwKCQkJCWJ1YmJsZXM6IHRydWUsCgkJCX0pCgkJKQoKCQlhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgY29uZmlnLmRlbGF5KSkKCgkJdGFyZ2V0LmRpc3BhdGNoRXZlbnQoCgkJCW5ldyBDb21wb3NpdGlvbkV2ZW50KCdjb21wb3NpdGlvbnVwZGF0ZScsIHsKCQkJCWRhdGE6IHN0ciwKCQkJCWJ1YmJsZXM6IHRydWUsCgkJCX0pCgkJKQoJfQoKCS8vIOaguOW/g+i+k+WFpemAu+i+kQoJY29uc3QgaW5wdXRDb3JlID0gYXN5bmMgKCkgPT4gewoJCWNvbnN0IGlzSW5wdXQgPSB0YXJnZXQubWF0Y2hlcygnaW5wdXQsIHRleHRhcmVhLCBbY29udGVudGVkaXRhYmxlPSJ0cnVlIl0nKQoJCWNvbnN0IG9yaWdpbmFsVmFsdWUgPSBpc0lucHV0ID8gdGFyZ2V0LnZhbHVlIDogdGFyZ2V0LnRleHRDb250ZW50CgoJCS8vIOiOt+WPlumAieWMuuS/oeaBrwoJCWNvbnN0IHNlbGVjdGlvbiA9IHsKCQkJc3RhcnQ6IHRhcmdldC5zZWxlY3Rpb25TdGFydCB8fCAwLAoJCQllbmQ6IHRhcmdldC5zZWxlY3Rpb25FbmQgfHwgMCwKCQkJcmFuZ2U6ICgoKSA9PiB7CgkJCQlpZiAoIWlzSW5wdXQpIHsKCQkJCQljb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkKCQkJCQlyZXR1cm4gc2VsLnJhbmdlQ291bnQgPiAwID8gc2VsLmdldFJhbmdlQXQoMCkgOiBudWxsCgkJCQl9CgkJCQlyZXR1cm4gbnVsbAoJCQl9KSgpLAoJCX0KCgkJdHJ5IHsKCQkJLy8g6Kem5Y+RIGJlZm9yZWlucHV0CgkJCWNvbnN0IGJlZm9yZUlucHV0RXZlbnQgPSBuZXcgSW5wdXRFdmVudCgnYmVmb3JlaW5wdXQnLCB7CgkJCQlpbnB1dFR5cGU6ICdpbnNlcnRUZXh0JywKCQkJCWRhdGE6IHN0ciwKCQkJCWJ1YmJsZXM6IHRydWUsCgkJCQljYW5jZWxhYmxlOiB0cnVlLAoJCQl9KQoKCQkJaWYgKCF0YXJnZXQuZGlzcGF0Y2hFdmVudChiZWZvcmVJbnB1dEV2ZW50KSkgewoJCQkJdGhyb3cgbmV3IEVycm9yKCdJbnB1dCBjYW5jZWxsZWQgYnkgYmVmb3JlaW5wdXQgaGFuZGxlcicpCgkJCX0KCgkJCS8vIOabtOaWsOWGheWuuQoJCQlpZiAoaXNJbnB1dCkgewoJCQkJLy8g5qCH5YeG6L6T5YWl5o6n5Lu2CgkJCQljb25zdCBuZXdWYWx1ZSA9IG9yaWdpbmFsVmFsdWUuc2xpY2UoMCwgc2VsZWN0aW9uLnN0YXJ0KSArIHN0ciArIG9yaWdpbmFsVmFsdWUuc2xpY2Uoc2VsZWN0aW9uLmVuZCkKCQkJCXRhcmdldC52YWx1ZSA9IG5ld1ZhbHVlCgkJCQkvLyDop6blj5HovpPlhaXms5Xkuovku7YKCQkJCWF3YWl0IHN0YXJ0Q29tcG9zaXRpb24oKQoJCQl9IGVsc2UgaWYgKHNlbGVjdGlvbi5yYW5nZSkgewoJCQkJLy8g5a+M5paH5pys57yW6L6R5ZmoCgkJCQlzZWxlY3Rpb24ucmFuZ2UuZGVsZXRlQ29udGVudHMoKQoJCQkJY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpCgkJCQlzZWxlY3Rpb24ucmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0Tm9kZSkKCQkJCXNlbGVjdGlvbi5yYW5nZS5zZXRTdGFydEFmdGVyKHRleHROb2RlKQoJCQl9CgoJCQkvLyDop6blj5HplK7nm5jkuovku7bluo/liJcKCQkJY29uc3Qga2V5RXZlbnRzID0gWwoJCQkJWydrZXlkb3duJywgeyBjb2RlOiAnUHJvY2VzcycgfV0sIC8vIElNRSDlpITnkIbmoIforrAKCQkJCVsna2V5cHJlc3MnLCB7IGNvZGU6ICdFbnRlcicgfV0sIC8vIOaooeaLn+ehruiupOi+k+WFpQoJCQkJWydrZXl1cCcsIHsgY29kZTogJ1Byb2Nlc3MnIH1dLAoJCQldCgoJCQlmb3IgKGNvbnN0IFt0eXBlLCBwcm9wc10gb2Yga2V5RXZlbnRzKSB7CgkJCQl0YXJnZXQuZGlzcGF0Y2hFdmVudCgKCQkJCQluZXcgS2V5Ym9hcmRFdmVudCh0eXBlLCB7CgkJCQkJCWtleTogc3RyLAoJCQkJCQkuLi5wcm9wcywKCQkJCQkJYnViYmxlczogdHJ1ZSwKCQkJCQkJY2FuY2VsYWJsZTogdHJ1ZSwKCQkJCQl9KQoJCQkJKQoJCQkJYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGNvbmZpZy5kZWxheSkpCgkJCX0KCgkJCS8vIOinpuWPkei+k+WFpeazlee7k+adnwoJCQlpZiAoY29uZmlnLnVzZUNvbXBvc2l0aW9uKSB7CgkJCQl0YXJnZXQuZGlzcGF0Y2hFdmVudCgKCQkJCQluZXcgQ29tcG9zaXRpb25FdmVudCgnY29tcG9zaXRpb25lbmQnLCB7CgkJCQkJCWRhdGE6IHN0ciwKCQkJCQkJYnViYmxlczogdHJ1ZSwKCQkJCQl9KQoJCQkJKQoJCQl9CgkJCS8vIOinpuWPkSBpbnB1dC9jaGFuZ2Ug5LqL5Lu2CgkJCWNvbnN0IGlucHV0RXZlbnQgPSBuZXcgSW5wdXRFdmVudCgnaW5wdXQnLCB7CgkJCQlkYXRhOiBzdHIsCgkJCQlidWJibGVzOiB0cnVlLAoJCQkJaW5wdXRUeXBlOiAnaW5zZXJ0VGV4dCcsCgkJCX0pCgkJCXRhcmdldC5kaXNwYXRjaEV2ZW50KGlucHV0RXZlbnQpCgkJCWNvbnN0IGNoYW5nZUV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSkKCQkJdGFyZ2V0LmRpc3BhdGNoRXZlbnQoY2hhbmdlRXZlbnQpCgkJCS8vIOabtOaWsOmAieWMugoJCQlpZiAoaXNJbnB1dCkgewoJCQkJY29uc3QgbmV3UG9zID0gc2VsZWN0aW9uLnN0YXJ0ICsgc3RyLmxlbmd0aAoJCQkJdGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKG5ld1BvcywgbmV3UG9zKQoJCQl9IGVsc2UgaWYgKHNlbGVjdGlvbi5yYW5nZSkgewoJCQkJY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpCgkJCQlzZWwucmVtb3ZlQWxsUmFuZ2VzKCkKCQkJCXNlbC5hZGRSYW5nZShzZWxlY3Rpb24ucmFuZ2UpCgkJCX0KCQl9IGNhdGNoIChlcnJvcikgewoJCQljb25zb2xlLmVycm9yKCdJbnB1dCBzaW11bGF0aW9uIGZhaWxlZDonLCBlcnJvcikKCQkJaWYgKGlzSW5wdXQpIHRhcmdldC52YWx1ZSA9IG9yaWdpbmFsVmFsdWUKCQkJdGhyb3cgZXJyb3IKCQl9Cgl9CgoJLy8g5omn6KGM6L6T5YWl5rWB56iLCglyZXR1cm4gaW5wdXRDb3JlKCkKfQphc3luYyBmdW5jdGlvbiBzdGFydCgpIHsKCWxldCBpbnB1dERvbSA9IGp1ZGdlRG9tKGlucHV0VGFnTmFtZSkKCWxldCBidG5Eb20gPSBqdWRnZURvbShidXR0b25UYWdOYW1lKQoJaWYgKCFpbnB1dERvbSB8fCAhYnRuRG9tKSB7CgkJSlNCZWhhdmlvci5qc1Jlc3VsdCgnMycsICcnKQoJfQoJaWYgKHR5cGUgPT09ICcke3NlYXJjaEJ1dHRvbn0nKSB7CgkJaW5wdXREb20udmFsdWUgPSAnJwoJCWZvciAobGV0IGkgPSAwOyBpIDwga2V5V29yZC5sZW5ndGg7IGkrKykgewoJCQlhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgTWF0aC5yYW5kb20oKSAqIDMwMCArIDEwMCkpCgkJCWlucHV0U3RyaW5nKGlucHV0RG9tLCBrZXlXb3JkW2ldKQoJCX0KCQlsZXQgcG9zID0gZ2V0RG9tUG9zKGJ0bkRvbSkKCQlKU0JlaGF2aW9yLmpzUmVzdWx0KCczJywgcG9zLnggKyAnLCcgKyBwb3MueSkKCX0gZWxzZSBpZiAodHlwZSA9PT0gJyR7c2VhcmNoSW5wdXR9JykgewoJCWxldCBwb3MgPSBnZXREb21Qb3MoaW5wdXREb20pCgkJSlNCZWhhdmlvci5qc1Jlc3VsdCgnNScsIHBvcy54ICsgJywnICsgcG9zLnkpCgl9Cn0Kc3RhcnQoKQo=

点击广告
dmFyIGNvdW50ID0gMAp2YXIgdGFnTmFtZSA9IGBkaXYuc3BvbnNvcmVkLnJlc3VsdC5zcG9uc29yZWQtIGEuZWxwYApmdW5jdGlvbiBxKHRhZykgewoJbGV0IGFsbEVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhZykpCgkrK2NvdW50Cgljb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGgKCWNvbnN0IHZpc2libGVFbGVtZW50cyA9IGFsbEVsZW1lbnRzLmZpbHRlcihlbGVtZW50ID0+IHsKCQljb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQoJCXJldHVybiByZWN0LnJpZ2h0ID4gMCAmJiByZWN0LmxlZnQgPCB2aWV3cG9ydFdpZHRoCgl9KQoKCWlmICh2aXNpYmxlRWxlbWVudHMubGVuZ3RoID4gMCkgewoJCXJhbmRvbVBvcyhyYW5kb21JdGVtKHZpc2libGVFbGVtZW50cykpCgl9IGVsc2UgewoJCWlmIChjb3VudCA+IDMpIHsKCQkJY291bnQgPSAwCgkJCUpTQmVoYXZpb3IuanNSZXN1bHQoJzEnLCAnJykKCQl9IGVsc2UgewoJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCXEodGFnTmFtZSkKCQkJfSwgMzAwMCkKCQl9Cgl9Cn0KZnVuY3Rpb24gcmFuZG9tUG9zKGRvbSkgewoJaWYgKCFkb20pIHsKCQlpZiAoY291bnQgPiAzKSB7CgkJCWNvdW50ID0gMAoJCQlKU0JlaGF2aW9yLmpzUmVzdWx0KCcxJywgJycpCgkJfSBlbHNlIHsKCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQlxKHRhZ05hbWUpCgkJCX0sIDMwMDApCgkJfQoJCXJldHVybgoJfQoJbGV0IHBvcyA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQoJaWYgKHBvcy53aWR0aCA9PT0gMCB8fCBwb3MuaGVpZ2h0ID09PSAwKSB7CgkJSlNCZWhhdmlvci5qc1Jlc3VsdCgnMScsICcnKQoJCWNvbnNvbGUubG9nKDEsIHBvcykKCQlyZXR1cm4KCX0KCWxldCB4LCB5Cgl5ID0gcG9zLnRvcCArIHBvcy5oZWlnaHQgKiAwLjEgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICsgTWF0aC5yYW5kb20oKSAqIChwb3MuaGVpZ2h0IC0gcG9zLmhlaWdodCAqIDAuMikKCXggPSBwb3MubGVmdCArIHBvcy53aWR0aCAqIDAuMSArIE1hdGgucmFuZG9tKCkgKiAocG9zLndpZHRoIC0gcG9zLndpZHRoICogMC4yKQoJSlNCZWhhdmlvci5qc1Jlc3VsdCgnMScsIHggKyAnLCcgKyB5KQp9CmZ1bmN0aW9uIHJhbmRvbUl0ZW0obGlzdCwgZm4pIHsKCWxldCBfZm4gPQoJCWZuIHx8CgkJZnVuY3Rpb24gKGkpIHsKCQkJcmV0dXJuIGkKCQl9CglsZXQgX24gPSBsaXN0CgkJLmZpbHRlcihpID0+IHsKCQkJaWYgKGlzRWxlbWVudFZpc2libGUoaSkpIHJldHVybiBpCgkJfSkKCQkuZmlsdGVyKF9mbikKCXJldHVybiBfbltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBfbi5sZW5ndGgpXQp9CgpmdW5jdGlvbiBpc0VsZW1lbnRWaXNpYmxlKGVsZW1lbnQpIHsKCWlmICghZWxlbWVudCkgcmV0dXJuIGZhbHNlCglpZiAoIWRvY3VtZW50LmJvZHkuY29udGFpbnMoZWxlbWVudCkpIHJldHVybiBmYWxzZQoJbGV0IGN1cnJlbnQgPSBlbGVtZW50Cgl3aGlsZSAoY3VycmVudCkgewoJCWNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY3VycmVudCkKCQlpZiAoc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSByZXR1cm4gZmFsc2UKCQljdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50Cgl9Cgljb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpCglpZiAoc3R5bGUudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbicgfHwgc3R5bGUub3BhY2l0eSA9PT0gJzAnKSB7CgkJcmV0dXJuIGZhbHNlCgl9Cgljb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQoJaWYgKHJlY3Qud2lkdGggPT09IDAgfHwgcmVjdC5oZWlnaHQgPT09IDApIHsKCQlpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHsKCQkJcmV0dXJuIGVsZW1lbnQuaGFzQ2hpbGROb2RlcygpCgkJfQoJCXJldHVybiBmYWxzZQoJfQoJcmV0dXJuIHRydWUKfQoKcSh0YWdOYW1lKQo=

关联搜索
dmFyIGNvdW50ID0gMAp2YXIgdGFnTmFtZSA9IGBkaXYucmVsYXRlZF9pdGVtc193cmFwcGVyIGEucmVsYXRlZF9pdGVtLnJlc3VsdC5yZWxhdGVkLWAKZnVuY3Rpb24gcSh0YWcpIHsKCWxldCByZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhZykpCgkrK2NvdW50CglpZiAoQXJyYXkuaXNBcnJheShyZXMpKSB7CgkJcmFuZG9tUG9zKHJhbmRvbUl0ZW0ocmVzKSkKCX0gZWxzZSB7CgkJcmFuZG9tUG9zKHJlcykKCX0KfQpmdW5jdGlvbiByYW5kb21Qb3MoZG9tKSB7CglpZiAoIWRvbSkgewoJCWlmIChjb3VudCA+IDMpIHsKCQkJY291bnQgPSAwCgkJCUpTQmVoYXZpb3IuanNSZXN1bHQoJzQnLCAnJykKCQl9IGVsc2UgewoJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCXEodGFnTmFtZSkKCQkJfSwgMzAwMCkKCQl9CgkJcmV0dXJuCgl9CglsZXQgcG9zID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCglpZiAocG9zLndpZHRoID09PSAwIHx8IHBvcy5oZWlnaHQgPT09IDApIHsKCQlKU0JlaGF2aW9yLmpzUmVzdWx0KCc0JywgJycpCgkJY29uc29sZS5sb2coMSwgcG9zKQoJCXJldHVybgoJfQoJbGV0IHgsIHkKCWNvbnN0IHRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSArIDMwMDAKCXNldFRpbWVvdXQoKCkgPT4gewoJCXkgPSBwb3MudG9wICsgcG9zLmhlaWdodCAqIDAuMSArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBNYXRoLnJhbmRvbSgpICogKHBvcy5oZWlnaHQgLSBwb3MuaGVpZ2h0ICogMC4yKQoJCXggPSBwb3MubGVmdCArIHBvcy53aWR0aCAqIDAuMSArIE1hdGgucmFuZG9tKCkgKiAocG9zLndpZHRoIC0gcG9zLndpZHRoICogMC4yKQoJCUpTQmVoYXZpb3IuanNSZXN1bHQoJzQnLCB4ICsgJywnICsgeSkKCX0sIHRpbWUpCn0KZnVuY3Rpb24gcmFuZG9tSXRlbShsaXN0LCBmbikgewoJbGV0IF9mbiA9CgkJZm4gfHwKCQlmdW5jdGlvbiAoaSkgewoJCQlyZXR1cm4gaQoJCX0KCWxldCBfbiA9IGxpc3QKCQkuZmlsdGVyKGkgPT4gewoJCQlpZiAoaXNFbGVtZW50VmlzaWJsZShpKSkgcmV0dXJuIGkKCQl9KQoJCS5maWx0ZXIoX2ZuKQoJcmV0dXJuIF9uW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIF9uLmxlbmd0aCldCn0KCmZ1bmN0aW9uIGlzRWxlbWVudFZpc2libGUoZWxlbWVudCkgewoJaWYgKCFlbGVtZW50KSByZXR1cm4gZmFsc2UKCWlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhlbGVtZW50KSkgcmV0dXJuIGZhbHNlCglsZXQgY3VycmVudCA9IGVsZW1lbnQKCXdoaWxlIChjdXJyZW50KSB7CgkJY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50KQoJCWlmIChzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybiBmYWxzZQoJCWN1cnJlbnQgPSBjdXJyZW50LnBhcmVudEVsZW1lbnQKCX0KCWNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkKCWlmIChzdHlsZS52aXNpYmlsaXR5ID09PSAnaGlkZGVuJyB8fCBzdHlsZS5vcGFjaXR5ID09PSAnMCcpIHsKCQlyZXR1cm4gZmFsc2UKCX0KCWNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCglpZiAocmVjdC53aWR0aCA9PT0gMCB8fCByZWN0LmhlaWdodCA9PT0gMCkgewoJCWlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkgewoJCQlyZXR1cm4gZWxlbWVudC5oYXNDaGlsZE5vZGVzKCkKCQl9CgkJcmV0dXJuIGZhbHNlCgl9CglyZXR1cm4gdHJ1ZQp9CnEodGFnTmFtZSkK
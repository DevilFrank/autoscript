01-07
点击广告
dmFyIGNvdW50ID0gMDsKdmFyIHRhZ05hbWUgPSBgaWZyYW1lW2lkPSJtYXN0ZXItMSJdYDsKZnVuY3Rpb24gcSh0YWcsIHR5cGUpIHsKICBsZXQgcmVzID0gbnVsbAogIGlmKHR5cGUgJiYgdHlwZSA9PSAnb25seScpIHsKICAgIHJlcyA9IHJhbmRvbUl0ZW0oQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YWcpKSkKICB9IGVsc2UgewogICAgcmVzID0gdHlwZSA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFnKSkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhZykKICB9CiAgKytjb3VudDsKICByZXR1cm4ge3BvczoodHlwZSx0KSA9PiB7CiAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzKSkgewogICAgICAgICAgcmFuZG9tUG9zKHJhbmRvbUl0ZW0ocmVzKSwgdHlwZSx0KQogICAgICB9IGVsc2UgewogICAgICByYW5kb21Qb3MocmVzLCB0eXBlLHQpCiAgICAgIH0KICB9fQp9CmZ1bmN0aW9uIHJhbmRvbVBvcyhkb20sIHR5cGUsIHQpIHsKICBpZiAoIWRvbSkgewogICAgaWYoY291bnQgPiAzKXsKICAgICAgY291bnQgPSAwOwogICAgICBKU0JlaGF2aW9yLmpzUmVzdWx0KCcxJywgJycpCiAgICB9ZWxzZXsKICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgIHEodGFnTmFtZSx0cnVlKS5wb3ModHJ1ZSkKICAgICAgfSwzMDAwKQogICAgfQogICAgcmV0dXJuCiAgfQogIGNvbnN0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgaWYgKHJlY3Qud2lkdGggPT09IDAgfHwgcmVjdC5oZWlnaHQgPT09IDApIHsKICAgIEpTQmVoYXZpb3IuanNSZXN1bHQoJzEnLCAnJykKICAgIGNvbnNvbGUubG9nKDEscmVjdCkKICAgIHJldHVybjsKICB9CiAgaWYgKHQpIHsKICAgIGxldCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBsLnN0eWxlLndpZHRoID0gJzEwMHB4JzsKICAgIGwuc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JzsKICAgIGwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgbC5zdHlsZS50b3AgPSAnMCc7CiAgICBsLnN0eWxlLmxlZnQgPSAnMCc7CiAgICBsLmNsYXNzTmFtZSA9ICdoYW9kb3V5YTEyMzQnOwogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGwpCiAgICBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFvZG91eWExMjM0JykKICB9CgogIGxldCBwb3MgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICBsZXQgeCwgeTsKCiAgaWYodHlwZSkgewogICAgeCA9IHBvcy5sZWZ0ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHBvcy53aWR0aCAtIDQwKSkgKyAyMDsKICAgIHkgPSBwb3MudG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgzMSAtIDExKSkgKyAxMTsKICAgIEpTQmVoYXZpb3IuanNSZXN1bHQoJzEnLCB4ICsgJywnICsgeSkKICAgIHJldHVybgogIH0KICB4ID0gcG9zLmxlZnQgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAocG9zLndpZHRoIC0gNDApKSArIDIwOwogIHkgPSBwb3MudG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgzMSAtIDExKSkgKyAxMTsKICBKU0JlaGF2aW9yLmpzUmVzdWx0KCcxJywgeCArICcsJyArIHkpCn0KZnVuY3Rpb24gcmFuZG9tSXRlbShsaXN0LCBmbikgewogICAgbGV0IF9mbiA9IGZuIHx8IGZ1bmN0aW9uKGkpe3JldHVybiBpfQogICAgbGV0IF9uID0gbGlzdC5maWx0ZXIoaT0+ewogICAgICAgIGlmIChpLm9mZnNldFdpZHRoID4gMCAmJiBpLm9mZnNldEhlaWdodCA+IDApCiAgICAgICAgICAgIHJldHVybiBpCiAgICB9KS5maWx0ZXIoX2ZuKQogICAgcmV0dXJuIF9uW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIF9uLmxlbmd0aCldCn0KcSh0YWdOYW1lLHRydWUpLnBvcyh0cnVlKQ==



08
点击广告dmFyIGNvdW50ID0gMDsKdmFyIHRhZ05hbWUgPSBgaWZyYW1lW2lkPSJtYXN0ZXItMSJdYDsKZnVuY3Rpb24gcSh0YWcsIHR5cGUpIHsKICBsZXQgcmVzID0gbnVsbAogIGlmKHR5cGUgJiYgdHlwZSA9PSAnb25seScpIHsKICAgIHJlcyA9IHJhbmRvbUl0ZW0oQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YWcpKSkKICB9IGVsc2UgewogICAgcmVzID0gdHlwZSA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFnKSkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhZykKICB9CiAgKytjb3VudDsKICByZXR1cm4ge3BvczoodHlwZSx0KSA9PiB7CiAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzKSkgewogICAgICAgICAgcmFuZG9tUG9zKHJhbmRvbUl0ZW0ocmVzKSwgdHlwZSx0KQogICAgICB9IGVsc2UgewogICAgICByYW5kb21Qb3MocmVzLCB0eXBlLHQpCiAgICAgIH0KICB9fQp9CmZ1bmN0aW9uIHJhbmRvbVBvcyhkb20sIHR5cGUsIHQpIHsKICBpZiAoIWRvbSkgewogICAgaWYoY291bnQgPiAzKXsKICAgICAgY291bnQgPSAwOwogICAgICBKU0JlaGF2aW9yLmpzUmVzdWx0KCcxJywgJycpCiAgICB9ZWxzZXsKICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgIHEodGFnTmFtZSx0cnVlKS5wb3ModHJ1ZSkKICAgICAgfSwzMDAwKQogICAgfQogICAgcmV0dXJuCiAgfQogIGNvbnN0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgaWYgKHJlY3Qud2lkdGggPT09IDAgfHwgcmVjdC5oZWlnaHQgPT09IDApIHsKICAgIEpTQmVoYXZpb3IuanNSZXN1bHQoJzEnLCAnJykKICAgIGNvbnNvbGUubG9nKDEscmVjdCkKICAgIHJldHVybjsKICB9CiAgaWYgKHQpIHsKICAgIGxldCBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBsLnN0eWxlLndpZHRoID0gJzEwMHB4JzsKICAgIGwuc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JzsKICAgIGwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgbC5zdHlsZS50b3AgPSAnMCc7CiAgICBsLnN0eWxlLmxlZnQgPSAnMCc7CiAgICBsLmNsYXNzTmFtZSA9ICdoYW9kb3V5YTEyMzQnOwogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGwpCiAgICBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFvZG91eWExMjM0JykKICB9CgogIGxldCBwb3MgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICBsZXQgeCwgeTsKCiAgaWYodHlwZSkgewogICAgeCA9IHBvcy5sZWZ0ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHBvcy53aWR0aCAtIDQwKSkgKyAyMDsKICAgIHkgPSBwb3MudG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMzIgLSA4MCkpICsgODA7CiAgICBKU0JlaGF2aW9yLmpzUmVzdWx0KCcxJywgeCArICcsJyArIHkpCiAgICByZXR1cm4KICB9CiAgeCA9IHBvcy5sZWZ0ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHBvcy53aWR0aCAtIDQwKSkgKyAyMDsKICB5ID0gcG9zLnRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTMyIC0gODApKSArIDgwOwogIEpTQmVoYXZpb3IuanNSZXN1bHQoJzEnLCB4ICsgJywnICsgeSkKfQpmdW5jdGlvbiByYW5kb21JdGVtKGxpc3QsIGZuKSB7CiAgICBsZXQgX2ZuID0gZm4gfHwgZnVuY3Rpb24oaSl7cmV0dXJuIGl9CiAgICBsZXQgX24gPSBsaXN0LmZpbHRlcihpPT57CiAgICAgICAgaWYgKGkub2Zmc2V0V2lkdGggPiAwICYmIGkub2Zmc2V0SGVpZ2h0ID4gMCkKICAgICAgICAgICAgcmV0dXJuIGkKICAgIH0pLmZpbHRlcihfZm4pCiAgICByZXR1cm4gX25bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogX24ubGVuZ3RoKV0KfQpxKHRhZ05hbWUsdHJ1ZSkucG9zKHRydWUp